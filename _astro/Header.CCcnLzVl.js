import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.6otl1p8d.js";import{M as z,i as B,u as R,P as I,a as S,b as W,L as A,m}from"./proxy.BiV0SCoc.js";class D extends s.Component{getSnapshotBeforeUpdate(a){const t=this.props.childRef.current;if(t&&a.isPresent&&!this.props.isPresent){const r=t.offsetParent,n=B(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=n-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:i,isPresent:a,anchorX:t}){const r=s.useId(),n=s.useRef(null),o=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=s.useContext(z);return s.useInsertionEffect(()=>{const{width:y,height:l,top:j,left:c,right:u}=o.current;if(a||!n.current||!y||!l)return;const p=t==="left"?`left: ${c}`:`right: ${u}`;n.current.dataset.motionPopId=r;const d=document.createElement("style");return f&&(d.nonce=f),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${j}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[a]),e.jsx(D,{isPresent:a,childRef:n,sizeRef:o,children:s.cloneElement(i,{ref:n})})}const O=({children:i,initial:a,isPresent:t,onExitComplete:r,custom:n,presenceAffectsLayout:o,mode:f,anchorX:y})=>{const l=R(T),j=s.useId();let c=!0,u=s.useMemo(()=>(c=!1,{id:j,initial:a,isPresent:t,custom:n,onExitComplete:p=>{l.set(p,!0);for(const d of l.values())if(!d)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[t,l,r]);return o&&c&&(u={...u}),s.useMemo(()=>{l.forEach((p,d)=>l.set(d,!1))},[t]),s.useEffect(()=>{!t&&!l.size&&r&&r()},[t]),f==="popLayout"&&(i=e.jsx(K,{isPresent:t,anchorX:y,children:i})),e.jsx(I.Provider,{value:u,children:i})};function T(){return new Map}const C=i=>i.key||"";function M(i){const a=[];return s.Children.forEach(i,t=>{s.isValidElement(t)&&a.push(t)}),a}const V=({children:i,custom:a,initial:t=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:o="sync",propagate:f=!1,anchorX:y="left"})=>{const[l,j]=S(f),c=s.useMemo(()=>M(i),[i]),u=f&&!l?[]:c.map(C),p=s.useRef(!0),d=s.useRef(c),g=R(()=>new Map),[E,P]=s.useState(c),[w,N]=s.useState(c);W(()=>{p.current=!1,d.current=c;for(let x=0;x<w.length;x++){const h=C(w[x]);u.includes(h)?g.delete(h):g.get(h)!==!0&&g.set(h,!1)}},[w,u.length,u.join("-")]);const b=[];if(c!==E){let x=[...c];for(let h=0;h<w.length;h++){const v=w[h],k=C(v);u.includes(k)||(x.splice(h,0,v),b.push(v))}return o==="wait"&&b.length&&(x=b),N(M(x)),P(c),null}const{forceRender:L}=s.useContext(A);return e.jsx(e.Fragment,{children:w.map(x=>{const h=C(x),v=f&&!l?!1:c===w||u.includes(h),k=()=>{if(g.has(h))g.set(h,!0);else return;let $=!0;g.forEach(H=>{H||($=!1)}),$&&(L?.(),N(d.current),f&&j?.(),r&&r())};return e.jsx(O,{isPresent:v,initial:!p.current||t?void 0:!1,custom:a,presenceAffectsLayout:n,mode:o,onExitComplete:v?void 0:k,anchorX:y,children:x},h)})})};function J({basePath:i="/"}){const[a,t]=s.useState(!1),n=(i.startsWith("/")?i:`/${i}`).replace(/\/+$/,""),o={closed:{opacity:0,scale:.8,y:-20},open:{opacity:1,scale:1,y:0}},f={closed:{opacity:0},open:{opacity:1}};return e.jsxs(m.header,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"bg-black text-white p-4 shadow-md",children:[e.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[e.jsx(m.h1,{className:"text-2xl sm:text-3xl font-[Playfair Display] text-yellow-400",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:"KitaJoki.in"}),e.jsxs("nav",{className:"hidden md:flex space-x-6",children:[e.jsx(m.a,{href:`${n}/`,className:"text-white hover:text-yellow-400 transition-colors duration-300",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:"Home"}),e.jsx(m.a,{href:`${n}/services`,className:"text-white hover:text-yellow-400 transition-colors duration-300",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:"Services"}),e.jsx(m.a,{href:`${n}/about`,className:"text-white hover:text-yellow-400 transition-colors duration-300",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:"About"}),e.jsx(m.a,{href:`${n}/contact`,className:"text-white hover:text-yellow-400 transition-colors duration-300",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:"Contact"})]}),e.jsx("button",{className:"md:hidden text-yellow-400",onClick:()=>t(!0),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),e.jsx(V,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(m.div,{initial:"closed",animate:"open",exit:"closed",variants:f,transition:{duration:.3},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>t(!1)}),e.jsxs(m.div,{initial:"closed",animate:"open",exit:"closed",variants:o,transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-4 right-4 w-48 bg-black text-white p-4 rounded-lg shadow-lg z-50 md:hidden",children:[e.jsx("button",{className:"absolute top-2 right-2 text-yellow-400",onClick:()=>t(!1),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("nav",{className:"mt-4",children:[e.jsx("a",{href:`${n}/`,className:"block py-1 px-2 text-white hover:bg-yellow-400 hover:text-black transition-colors duration-300",children:"Home"}),e.jsx("a",{href:`${n}/services`,className:"block py-1 px-2 text-white hover:bg-yellow-400 hover:text-black transition-colors duration-300",children:"Services"}),e.jsx("a",{href:`${n}/about`,className:"block py-1 px-2 text-white hover:bg-yellow-400 hover:text-black transition-colors duration-300",children:"About"}),e.jsx("a",{href:`${n}/contact`,className:"block py-1 px-2 text-white hover:bg-yellow-400 hover:text-black transition-colors duration-300",children:"Contact"})]})]})]})})]})}export{J as default};
